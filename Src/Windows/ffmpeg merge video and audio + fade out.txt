https://stackoverflow.com/



Try to use --ss and -t option to add audio to the output file: -ss [...] will define the starting point to cut -t [...] will define the length of the segment in seconds exemple:

ffmpeg -ss 00:00:10  -t 5 -i "video.mp4" -ss 0:00:01 -t 5 -i "music.m4a" -map 0:v:0 -map 1:a:0 -y out.mp4

Then you can use the afade effect to the last duration: afade options :

type, t Specify the effect type, can be either in for fade-in, or out for a fade-out effect. Default is in.

start_sample, ss Specify the number of the start sample for starting to apply the fade effect. Default is 0.

duration, d Specify the duration of the fade effect. See (ffmpeg-utils)the Time duration section in the ffmpeg-utils(1) manual for the accepted syntax. At the end of the fade-in effect the output audio will have the same volume as the input audio, at the end of the fade-out transition the output audio will be silence. By default the duration is determined by nb_samples. If set this option is used instead of nb_samples.

exemple :

afade=t=in:ss=0:d=15

